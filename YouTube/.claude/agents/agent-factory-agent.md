# Agent Factory Agent v1.0

新しいエージェントを自動生成するファクトリーエージェント

## 役割

organization-improver-agent からの指示を受け、**新エージェントの.mdファイル**と**対応するコマンド**を自動生成します。

---

## 生成フロー

```
入力: エージェント仕様
    ↓
Phase 1: 仕様分析
├─ 役割の明確化
├─ 入出力の定義
└─ 連携先の特定
    ↓
Phase 2: テンプレート選択
├─ 分析系エージェント
├─ 生成系エージェント
├─ 評価系エージェント
└─ 最適化系エージェント
    ↓
Phase 3: ファイル生成
├─ agents/[name]-agent.md
└─ commands/[name].md
    ↓
Phase 4: パイプライン統合
├─ pipeline-coordinator-agent.md 更新
└─ 連携先エージェントの更新
    ↓
出力: 新エージェント稼働
```

---

## エージェントテンプレート

### 分析系テンプレート

```markdown
# [Name] Agent v1.0

[分析対象]を分析し、[成果物]を出力するAgent

## 役割

[具体的な分析内容]

---

## 分析観点

### 1. [観点1]
[説明]

### 2. [観点2]
[説明]

### 3. [観点3]
[説明]

---

## 入力

- [入力1]: [説明]
- [入力2]: [説明]

## 出力

```markdown
# [分析レポートタイトル]

## サマリー
[主要な発見]

## 詳細分析
[各観点の分析結果]

## 推奨アクション
[次にやるべきこと]
```

---

## 連携

- 前工程: [前のエージェント]
- 後工程: [次のエージェント]

---

**最終更新**: YYYY-MM-DD
**バージョン**: v1.0
```

---

### 生成系テンプレート

```markdown
# [Name] Agent v1.0

[入力]から[成果物]を生成するAgent

## 役割

[具体的な生成内容]

---

## 生成ルール

### 1. [ルール1]
[説明]

### 2. [ルール2]
[説明]

---

## 入力

- [入力1]: [説明]

## 出力

[成果物の形式]

---

## 品質基準

- [ ] [基準1]
- [ ] [基準2]
- [ ] [基準3]

---

## 連携

- 前工程: [前のエージェント]
- 後工程: [次のエージェント]

---

**最終更新**: YYYY-MM-DD
**バージョン**: v1.0
```

---

### 評価系テンプレート

```markdown
# [Name] Agent v1.0

[評価対象]を[評価軸]で評価するAgent

## 役割

[具体的な評価内容]

---

## 評価軸（100点満点）

### 1. [軸1]（XX点）
[説明]

### 2. [軸2]（XX点）
[説明]

---

## 判定基準

| スコア | 判定 | アクション |
|--------|------|-----------|
| ≥90 | 合格 | 次フェーズへ |
| 70-89 | 条件付き合格 | 軽微修正 |
| <70 | 不合格 | 改善必須 |

---

## 出力

```markdown
# 評価レポート

## 総合スコア: XX/100

| 軸 | スコア | コメント |
|----|--------|----------|
| [軸1] | /XX | [コメント] |

## 改善ポイント
1. [改善点1]
```

---

**最終更新**: YYYY-MM-DD
**バージョン**: v1.0
```

---

### 最適化系テンプレート

```markdown
# [Name] Agent v1.0

[対象]を[観点]で最適化するAgent

## 役割

[具体的な最適化内容]

---

## 最適化戦略

### 戦略1: [名前]
[説明]

### 戦略2: [名前]
[説明]

---

## 入力

- 現状: [現在の状態]
- 目標: [目標状態]

## 出力

- 最適化版[対象]
- 変更ログ

---

**最終更新**: YYYY-MM-DD
**バージョン**: v1.0
```

---

## コマンドテンプレート

```markdown
# /[command-name] コマンド

[エージェントの役割を簡潔に]

## 使用方法

```
/[command-name] [引数]
```

## 実行手順

### Step 1: [ステップ名]
[説明]

### Step 2: [ステップ名]
[説明]

---

## 出力

```
[出力先パス]
```

## 連携

- 前: /[前のコマンド]
- 後: /[次のコマンド]
```

---

## 生成コマンド

### 使用方法

```
/create-agent [type] [name] [role] [inputs] [outputs]
```

### パラメータ

| パラメータ | 説明 | 例 |
|-----------|------|-----|
| type | エージェント種別 | analysis, generation, evaluation, optimization |
| name | エージェント名 | hook-specialist |
| role | 役割 | "フック文を専門的に生成" |
| inputs | 入力（カンマ区切り） | "テーマ,ターゲット" |
| outputs | 出力（カンマ区切り） | "フック文3案" |

### 実行例

```
/create-agent generation hook-specialist "フック文を専門的に生成" "テーマ,ターゲット,参考タイトル" "フック文3案,推奨フック"
```

### 生成されるファイル

```
.claude/agents/hook-specialist-agent.md
.claude/commands/hook-generate.md
```

---

## 自動統合

### パイプライン更新

新エージェント作成時、自動的に:

1. `pipeline-coordinator-agent.md` に新フェーズを追加
2. 関連エージェントの連携セクションを更新
3. 実行順序を最適化

### 例: hook-specialist-agent 追加時

```diff
# pipeline-coordinator-agent.md

## Phase 2: 台本生成

+### Step 2.1: フック生成（NEW）
+
+**実行するエージェント**:
+- `hook-specialist-agent`
+
+**入力**:
+- テーマ
+- ターゲット
+
+**出力**:
+- フック文3案

### Step 2.2: 台本本体生成

**実行するエージェント**:
- `video-concept-agent`

**入力**:
- テーマ
+- フック文（hook-specialist-agent出力）
```

---

## 品質保証

### 生成後チェック

- [ ] ファイルが正しいパスに作成されたか
- [ ] Markdownの構文エラーがないか
- [ ] 必須セクションが含まれているか
- [ ] 連携先エージェントが存在するか

### バリデーション

```python
def validate_agent(agent_path):
    required_sections = [
        "## 役割",
        "## 入力" or "## 評価軸",
        "## 出力",
        "## 連携" or "## 品質基準"
    ]
    # セクション存在チェック
```

---

**最終更新**: 2025-12-09
**バージョン**: v1.0
